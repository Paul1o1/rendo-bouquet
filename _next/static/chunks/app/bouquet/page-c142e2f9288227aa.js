(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1363:(e,t,r)=>{Promise.resolve().then(r.bind(r,5597)),Promise.resolve().then(r.bind(r,2524))},2524:(e,t,r)=>{"use strict";r.d(t,{BouquetProvider:()=>i,Z:()=>o});var s=r(5155),a=r(2115),n=r(3935);let l=(0,a.createContext)(void 0);function i(e){let{children:t,mode:r}=e,[i,o]=(0,a.useState)({mode:r,flowers:[],letter:{sender:"",recipient:"",message:""},greenery:0,timestamp:Date.now(),flowerOrder:[]}),c=(0,n.RW)(i.flowers),d=(0,n.z4)(i.flowers);return(0,s.jsx)(l.Provider,{value:{bouquet:i,setBouquet:o,totalFlowers:c,canProceed:d,addFlower:e=>{o(t=>{let r;r=t.flowers.find(t=>t.id===e.id)?t.flowers.map(t=>t.id===e.id?{...t,count:t.count+1}:t):[...t.flowers,{id:e.id,count:1}];let s=(0,n.A5)(r);return{...t,flowers:r,flowerOrder:s}})},removeFlower:e=>{o(t=>{let r,s=t.flowers.find(t=>t.id===e);if(!s)return t;r=s.count<=1?t.flowers.filter(t=>t.id!==e):t.flowers.map(t=>t.id===e?{...t,count:t.count-1}:t);let a=(0,n.A5)(r);return{...t,flowers:r,flowerOrder:a}})}},children:t})}function o(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useBouquet must be used within a BouquetProvider");return e}},3935:(e,t,r)=>{"use strict";function s(e){return Array.from({length:e.reduce((e,t)=>e+t.count,0)},(e,t)=>t)}function a(e){let t={};return e.forEach(e=>{t[e.id]=e.count}),t}function n(e){return e.reduce((e,t)=>e+t.count,0)}function l(e){let t=n(e);return t>=6&&t<=10}r.d(t,{A5:()=>s,RW:()=>n,fr:()=>a,z4:()=>l})},5597:(e,t,r)=>{"use strict";r.d(t,{default:()=>k});var s=r(5155),a=r(2115),n=r(6766);let l=[{id:1,name:"orchid",meaning:"Beauty",birthMonth:"October",size:"medium"},{id:2,name:"tulip",meaning:"Perfect love",birthMonth:"April",size:"medium"},{id:3,name:"dahlia",meaning:"Elegance",birthMonth:"August",size:"small"},{id:4,name:"anemone",meaning:"Anticipation",birthMonth:"September",size:"medium"},{id:5,name:"carnation",meaning:"Fascination",birthMonth:"January",size:"large"},{id:6,name:"zinnia",meaning:"Lasting Affection",birthMonth:"July",size:"medium"},{id:7,name:"ranunculus",meaning:"Radiant Charm",birthMonth:"March",size:"medium"},{id:8,name:"sunflower",meaning:"Adoration",birthMonth:"August",size:"large"},{id:9,name:"lily",meaning:"Purity",birthMonth:"May",size:"large"},{id:10,name:"daisy",meaning:"Innocence",birthMonth:"April",size:"small"},{id:11,name:"peony",meaning:"Romance",birthMonth:"May",size:"medium"},{id:12,name:"rose",meaning:"Love and passion",birthMonth:"June",size:"medium",color:"red"}];var i=r(7040),o=r(2596),c=r(9688);function d(e){let{delayDuration:t=0,...r}=e;return(0,s.jsx)(i.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function u(e){let{...t}=e;return(0,s.jsx)(d,{children:(0,s.jsx)(i.bL,{"data-slot":"tooltip",...t})})}function m(e){let{...t}=e;return(0,s.jsx)(i.l9,{"data-slot":"tooltip-trigger",...t})}function h(e){let{className:t,sideOffset:r=0,children:a,...n}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsx)(i.UC,{"data-slot":"tooltip-content",sideOffset:r,className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.QP)((0,o.$)(t))}("rounded border shadow-lg bg-background text-popover-foreground border-primary animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) px-3 py-1.5 text-balance",t),...n,children:a})})}var f=r(2524),x=r(3935);function p(){let{bouquet:e,totalFlowers:t,addFlower:r,removeFlower:a}=(0,f.Z)(),i=(0,x.fr)(e.flowers);return(0,s.jsx)(d,{disableHoverableContent:!0,delayDuration:0,children:(0,s.jsxs)("div",{className:"h-full text-center dfont-crimson",children:[(0,s.jsx)("h2",{className:"mb-4 uppercase text-md",children:"Pick 6 to 10 BLOOMS"}),t>0&&(0,s.jsx)("p",{className:"mb-8 text-sm opacity-50",children:"Click on a flower's name to deselect it."}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-8 items-center min-h-[200px]",children:l.map(t=>(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex relative flex-col items-center cursor-pointer",onClick:e=>{e.preventDefault(),r(t)},children:[(0,s.jsx)("div",{className:"".concat("small"===t.size?"w-32 h-32":"large"===t.size?"w-48 h-48":"w-40 h-40"," flex items-center justify-center transition-transform duration-300 overflow-hidden ").concat(i[t.id]?"transform -translate-y-2":""," hover:transform hover:-translate-y-2"),children:(0,s.jsx)(n.default,{src:"/"+e.mode+"/flowers/"+t.name+".png",alt:t.name,width:"small"===t.size?128:"large"===t.size?192:160,height:"small"===t.size?128:"large"===t.size?192:160,className:"object-cover",priority:!0})}),i[t.id]&&(0,s.jsx)("div",{className:"flex absolute top-0 right-0 justify-center items-center w-5 h-5 text-xs rounded-full bg-primary text-primary-foreground sm:w-6 sm:h-6",children:i[t.id]})]})}),(0,s.jsxs)(h,{onPointerDownOutside:e=>e.preventDefault(),side:"bottom",sideOffset:8,className:"z-10 p-2 w-40 text-center sm:w-48",children:[(0,s.jsx)("h3",{className:"font-bold uppercase text-md",children:t.name}),(0,s.jsx)("p",{className:"text-sm",children:t.meaning}),(0,s.jsxs)("p",{className:"text-sm",children:["Birth Month: ",t.birthMonth]})]})]},t.id))}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2 justify-center mt-2",children:Object.entries(i).map(e=>{let[t,r]=e,n=l.find(e=>e.id===Number.parseInt(t));return n?(0,s.jsxs)("div",{className:"px-3 py-1 text-sm rounded-full border transition-colors cursor-pointer border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:()=>a(Number.parseInt(t)),children:[n.name.toUpperCase()," x",r]},t):null})})})]})})}function g(){let{bouquet:e,setBouquet:t}=(0,f.Z)();return(0,s.jsxs)("div",{className:"flex flex-col mx-auto max-w-screen-lg",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"mb-6 text-center uppercase text-md",children:"Customize Your Bouquet"}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-4",children:[(0,s.jsx)("button",{onClick:()=>{let r=Array.from({length:e.flowers.reduce((e,t)=>e+t.count,0)},(e,t)=>t);for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}t(e=>({...e,flowerOrder:r}))},className:"px-5 py-3 text-white uppercase bg-black",children:"Try a new Arrangement"}),(0,s.jsx)("button",{onClick:()=>{t(e=>({...e,greenery:(e.greenery+1)%3}))},className:"px-5 py-3 text-black uppercase border border-black",children:"Change Greenery"})]})]}),(0,s.jsx)("div",{className:"flex relative justify-center items-center py-4 my-16",children:(0,s.jsxs)("div",{className:"relative w-[500px] min-h-[410px]",children:[(0,s.jsx)(n.default,{src:"/".concat(e.mode,"/bush/bush-").concat(e.greenery+1,".png"),alt:"bush background",width:600,height:500,className:"absolute top-1/2 left-1/2 z-0 transform -translate-x-1/2 -translate-y-1/2",priority:!0}),(0,s.jsx)("div",{className:"flex flex-wrap reverse w-[300px] justify-center items-center -space-x-4 -space-y-20 relative m-auto",children:e.flowers.flatMap((t,r)=>{let a=l.find(e=>e.id===t.id);return a?Array(t.count).fill(null).map((l,i)=>{var o;let c=10*Math.random()-5,d=e.flowerOrder.length>0&&null!=(o=e.flowerOrder[r*t.count+i])?o:r*t.count+i,u=(e=>{switch(e){case"small":return 80;case"large":return 160;default:return 120}})(a.size);return(0,s.jsx)("div",{className:"flex relative justify-center items-center pt-4",style:{order:d},children:(0,s.jsx)(n.default,{src:"/".concat(e.mode,"/flowers/").concat(a.name,".png"),alt:a.name,width:u,height:u,className:"relative z-10 transition-transform hover:scale-105",style:{transform:"rotate(".concat(c,"deg)")},priority:!0})},"".concat(r,"-").concat(i))}):[]})}),(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{src:"/".concat(e.mode,"/bush/bush-").concat(e.greenery+1,"-top.png"),alt:"bush top",width:600,height:500,className:"absolute top-1/2 left-1/2 z-10 transform -translate-x-1/2 -translate-y-1/2",priority:!0})})]})})]})}function j(){let{bouquet:e,setBouquet:t}=(0,f.Z)();return(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-md my-8",children:"WRITE THE CARD"}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center -space-x-12",children:[(0,s.jsx)(n.default,{src:"/full/flowers/daisy.png",alt:"card front",width:140,height:200,className:"-rotate-12 hover:-translate-y-4 transition-all duration-300"}),(0,s.jsx)(n.default,{src:"/full/flowers/lily.png",alt:"card front",width:140,height:200,className:"-translate-y-5 hover:-translate-y-4 transition-all duration-300"}),(0,s.jsx)(n.default,{src:"/full/flowers/anemone.png",alt:"card front",width:140,height:200,className:"rotate-12 hover:-translate-y-4 transition-all duration-300"})]}),(0,s.jsx)("div",{className:"bg-white border-2 border-black p-10 max-w-lg mx-10",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-row items-left justify-left gap-2",children:[(0,s.jsx)("label",{htmlFor:"recipient",children:"Dear "}),(0,s.jsx)("input",{id:"recipient",value:e.letter.recipient||"",onChange:e=>t(t=>({...t,letter:{...t.letter,recipient:e.target.value}})),placeholder:"Beloved,",className:"border-none bg-transparent focus:outline-none focus:ring-0"})," "]}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{id:"message",value:e.letter.message||"",onChange:e=>t(t=>({...t,letter:{...t.letter,message:e.target.value}})),placeholder:"I have so much to tell you, but only this much space on this card! Still, you must know...",rows:5,className:"w-full border-none bg-transparent focus:outline-none focus:ring-0"})}),(0,s.jsxs)("div",{className:"flex flex-col items-right justify-end gap-2",children:[(0,s.jsx)("label",{htmlFor:"sender",className:"text-right",children:"Sincerely,"}),(0,s.jsx)("input",{id:"sender",value:e.letter.sender||"",onChange:e=>t(t=>({...t,letter:{...t.letter,sender:e.target.value}})),placeholder:"Secret Admirer",className:"border-none bg-transparent text-right focus:outline-none focus:ring-0"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center -space-x-12",children:[(0,s.jsx)(n.default,{src:"/full/flowers/carnation.png",alt:"card front",width:140,height:200,className:"-rotate-12 hover:-translate-y-4 transition-all duration-300"}),(0,s.jsx)(n.default,{src:"/full/flowers/sunflower.png",alt:"card front",width:140,height:200,className:"-translate-y-5 hover:-translate-y-4 transition-all duration-300"}),(0,s.jsx)(n.default,{src:"/full/flowers/peony.png",alt:"card front",width:140,height:200,className:"rotate-12 hover:-translate-y-4 transition-all duration-300"})]})]})]})})}let b=(0,r(5647).UU)("https://mfpgiwrnekanudelowcy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1mcGdpd3JuZWthbnVkZWxvd2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzUxMTIsImV4cCI6MjA2OTYxMTExMn0.AEJkTniZT97oWpg32rANC32AeJKLEZ6DUOunfOBOX2o");var y=r(5695),w=r(5410);function v(e){let{bouquet:t}=e;return(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"flex flex-col max-w-lg mx-auto bg-[#F5F5DC] rounded-full",children:(0,s.jsx)("div",{className:"flex relative justify-center items-center py-4 my-4",children:(0,s.jsxs)("div",{className:"relative w-[500px] min-h-[410px]",children:[(0,s.jsx)(n.default,{src:"/".concat(t.mode,"/bush/bush-").concat(t.greenery+1,".png"),alt:"bush background",width:600,height:500,className:"absolute top-1/2 left-1/2 z-0 transform -translate-x-1/2 -translate-y-1/2",priority:!0}),(0,s.jsx)("div",{className:"flex flex-wrap reverse w-[300px] justify-center items-center -space-x-4 -space-y-20 relative m-auto",children:t.flowers.flatMap((e,r)=>{let a=l.find(t=>t.id===e.id);return a?Array(e.count).fill(null).map((l,i)=>{var o;let c=10*Math.random()-5,d=t.flowerOrder.length>0&&null!=(o=t.flowerOrder[r*e.count+i])?o:r*e.count+i,u=(e=>{switch(e){case"small":return 80;case"large":return 160;default:return 120}})(a.size);return(0,s.jsx)("div",{className:"flex relative justify-center items-center pt-4",style:{order:d},children:(0,s.jsx)(n.default,{src:"/".concat(t.mode,"/flowers/").concat(a.name,".png"),alt:a.name,width:u,height:u,className:"relative z-10 transition-transform hover:scale-105",style:{transform:"rotate(".concat(c,"deg)")},priority:!0})},"".concat(r,"-").concat(i))}):[]})}),(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{src:"/".concat(t.mode,"/bush/bush-").concat(t.greenery+1,"-top.png"),alt:"bush top",width:600,height:500,className:"absolute top-1/2 left-1/2 z-10 transform -translate-x-1/2 -translate-y-1/2",priority:!0})})]})})}),(0,s.jsx)("div",{className:"mx-auto max-w-sm text-sm text-center",children:(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"bg-white border-[1.5px] border-black p-8 mx-auto -translate-y-[50px] -rotate-2 hover:-rotate-2 transition-all duration-300",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex flex-row gap-2 items-left justify-left",children:(0,s.jsxs)("p",{className:"bg-transparent border-none focus:outline-none focus:ring-0",children:["Dear ",t.letter.recipient]})}),(0,s.jsx)("div",{className:"text-left",children:(0,s.jsx)("p",{children:t.letter.message})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 justify-end items-end",children:[(0,s.jsx)("p",{className:"bg-transparent border-none focus:outline-none focus:ring-0",children:"Sincerely,"}),(0,s.jsx)("p",{className:"bg-transparent border-none focus:outline-none focus:ring-0",children:t.letter.sender})]})]})})})})]})}function N(){let{bouquet:e}=(0,f.Z)(),t=(0,y.useRouter)(),r=async e=>{let r=(0,w.Ak)(8),{data:s,error:a}=await b.from("bouquets").insert([{short_id:r,mode:e.mode,flowers:e.flowers,letter:e.letter,timestamp:e.timestamp,greenery:e.greenery,flowerOrder:e.flowerOrder}]).select();if(a||!s||0===s.length)return void console.error("Error creating bouquet:",a);let n=s[0].id;t.push("/bouquet/".concat(n))};return(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-md uppercase text-center mb-10",children:"SEND THE BOUQUET"}),(0,s.jsx)(v,{bouquet:e}),(0,s.jsx)("button",{onClick:()=>{console.log("Sending bouquet"),r(e)},className:"uppercase text-white bg-black px-5 py-3",children:"CREATE SHAREABLE LINK"})]})}var z=r(6874),C=r.n(z);let M=["Pick Flowers","Customize Bouquet","Write Card","Share"];function k(){let{bouquet:e,canProceed:t}=(0,f.Z)(),[r,l]=(0,a.useState)(0);return(0,s.jsxs)("main",{className:"container flex flex-col p-4 mx-auto",children:[(0,s.jsx)(C(),{href:"/",children:(0,s.jsx)(n.default,{src:"/digibouquet.png",alt:"digibouquet",width:200,height:80,className:"object-cover mx-auto mt-6",priority:!0})}),(0,s.jsxs)("div",{className:"flex-grow py-8",children:[0===r&&(0,s.jsx)(p,{}),1===r&&(0,s.jsx)(g,{}),2===r&&(0,s.jsx)(j,{}),3===r&&(0,s.jsx)(N,{})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-4 justify-center m-auto",children:[r>0&&(0,s.jsx)("button",{onClick:()=>l(e=>Math.max(e-1,0)),className:"text-sm px-4 py-2 border border-[#000000]",children:"BACK"}),r<M.length-1&&(0,s.jsx)("button",{onClick:()=>l(e=>Math.min(e+1,M.length-1)),disabled:!t,className:"text-sm px-4 py-2 ml-auto ".concat(t?"bg-[#000000] text-[#F5F5DC]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"NEXT"})]})]})}}},e=>{e.O(0,[992,730,441,964,358],()=>e(e.s=1363)),_N_E=e.O()}]);